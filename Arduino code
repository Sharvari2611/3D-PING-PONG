CODE:
#include<Wire.h>
constintP1L=8;
constintP1R=7;
constintMPU6050_addr=0x68;
int16_tX,Y,Z;
voidsetup(){
Wire.begin();
Wire.beginTransmission(MPU6050_addr);
Wire.write(0x6B);
Wire.write(0);
Wire.endTransmission(true);
Serial.begin(9600);
pinMode(P1L,INPUT);
pinMode(P1R,INPUT);
digitalWrite(P1L,HIGH);
digitalWrite(P1R,HIGH);
}
voidloop(){
Wire.beginTransmission(MPU6050_addr);
Wire.write(0x3B);
Wire.endTransmission(false);
Wire.requestFrom(MPU6050_addr,14,true);
X=Wire.read()<<8|Wire.read();
Y=Wire.read()<<8|Wire.read();
Z=Wire.read()<<8|Wire.read();
if(Y<-10000)
{
Serial.println("LeftofP1");
Serial.write(1);
Serial.flush();
delay(150);
}
if(Y>10000)
{
Serial.println("RightofP1");
Serial.write(2);
Serial.flush();
delay(150);
}
if(digitalRead(P1L)==LOW)
{
Serial.println("LEFTOFPLAYER1");
Serial.write(1);
Serial.flush();
delay(150);
}
if(digitalRead(P1R)==LOW)
{
Serial.println("RIGHTOFPLAYER1");
Serial.write(2);
Serial.flush();
delay(150);
}
}
